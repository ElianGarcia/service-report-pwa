"use strict";(self.webpackChunkservice_report_pwa=self.webpackChunkservice_report_pwa||[]).push([[714],{3489:(b,g,e)=>{e.d(g,{g:()=>f});var n=e(4650),y=e(4961),u=e(7392),p=e(4006),t=e(4463);let f=(()=>{class h{constructor(o){this.userService=o,this.min=0,this.max=125,this.type="number",this.valueChange=new n.vpe}ngOnInit(){}get incrementValue(){return this.userService.getIncrementValue()}sum(){if("Hours"===this.title){this.value+=this.incrementValue;let o=Math.floor(this.value),a=Math.round(100*(this.value-o));a>=60&&(o+=1,a-=60),this.value=Number(o+"."+a)}else this.value+=1;this.onChange()}subs(){if("Hours"===this.title){let o=Math.floor(this.value),a=Math.round(100*(this.value-o)),r=100*this.incrementValue;if(a>r)a-=r,console.log(a);else if(a<r){let v=a-=r;o-=1,a=60+v}else a==r?a=0:0==a&&(a=60,a-=100*this.incrementValue,o-=1);this.value=Number(o+"."+a)}else this.value-=1;this.onChange()}onChange(){this.valueChange.emit({title:this.title,value:this.value})}}return h.\u0275fac=function(o){return new(o||h)(n.Y36(y.f))},h.\u0275cmp=n.Xpm({type:h,selectors:[["app-input-group"]],inputs:{title:"title",value:"value",min:"min",max:"max",type:"type"},outputs:{valueChange:"valueChange"},decls:17,vars:10,consts:[[1,"row"],[1,"col"],["color","primary",1,"text-center"],["for","value"],[1,"xc"],[1,"row","w-100"],["aria-label","Remove",1,"btn","btn-lg","rounded","btn-outline-dark","col",3,"disabled","click"],["id","value","disabled","",1,"col",3,"type","min","max","value","ngModel","ngModelChange"],["aria-label","Add",1,"btn","btn-sucess","rounded","btn-outline-dark","btn-lg","col",3,"disabled","click"]],template:function(o,a){1&o&&(n.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"h2")(4,"label",3),n._uU(5),n.ALo(6,"translate"),n.qZA()()(),n.TgZ(7,"div",4)(8,"div",5)(9,"button",6),n.NdJ("click",function(){return a.subs()}),n.TgZ(10,"mat-icon"),n._uU(11,"remove"),n.qZA()(),n.TgZ(12,"input",7),n.NdJ("ngModelChange",function(v){return a.value=v})("ngModelChange",function(){return a.onChange()}),n.qZA(),n.TgZ(13,"button",8),n.NdJ("click",function(){return a.sum()}),n.TgZ(14,"mat-icon"),n._uU(15,"add"),n.qZA()()()()()(),n._UZ(16,"hr")),2&o&&(n.xp6(5),n.Oqu(n.lcZ(6,8,a.title)),n.xp6(4),n.Q6J("disabled",a.value<=0),n.xp6(3),n.Q6J("type",a.type)("min",a.min)("max",a.max)("value",a.value)("ngModel",a.value),n.xp6(1),n.Q6J("disabled",a.value>=a.max))},dependencies:[u.Hw,p.Fj,p.JJ,p.On,t.X$],styles:["input[_ngcontent-%COMP%]{text-align:center;border:1px transparent;border-radius:50% 20%/10% 40%;background-color:#f1efd5}input[_ngcontent-%COMP%]{-webkit-appearance:textfield!important;appearance:textfield!important}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}input[_ngcontent-%COMP%]{width:120px;margin-right:4px;margin-left:4px;font-size:1.5rem}.xc[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}input[_ngcontent-%COMP%]:disabled{color:#000!important}"]}),h})()},714:(b,g,e)=>{e.r(g),e.d(g,{TabsModule:()=>A});var n=e(6895),y=e(9299),u=e(4006);class p{constructor(){this.hours=0,this.placements=0,this.videos=0,this.returnVisits=0,this.date=new Date,this.userId=1}}var t=e(4650),f=e(130),h=e(678),C=e(4961),o=e(14),a=e(4218),r=e(3489),v=e(3683);const M=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class s{constructor(i,l,c,d){this.dailyActivity=i,this.fb=l,this.modalService=c,this.userService=d,this.activity=new p,this.getData()}ngOnInit(){this.getData()}editPastDate(i){this.activity=new p,this.activity.date=i;var l=new Date(this.activity.date).toISOString();this.dailyActivity.getPastActivity(l).subscribe({next:c=>this.activity=c})}getData(){this.dailyActivity.getActivity().subscribe({next:i=>this.activity=i,error:i=>{this.modalService.showMessage("An error occured while getting the data! "+i.message),console.log(i)}})}getDate(){return this.activity.date}receiveData(i){switch(i.title){case"Hours":this.activity.hours=i.value;break;case"Placements":this.activity.placements=i.value;break;case"Videos":this.activity.videos=i.value;break;case"Revisitas":this.activity.returnVisits=i.value}this.save()}save(){this.mainForm=this.fb.group({activityId:[this.activity.activityId||0,[]],hours:[this.activity.hours,[u.kI.required]],placements:[this.activity.placements,[u.kI.required]],videos:[this.activity.videos,[u.kI.required]],returnVisits:[0,[u.kI.required]],userId:[0,[u.kI.required]],date:[this.activity.date,[u.kI.required]]}),this.mainForm.patchValue({userId:this.userService.getUser().userId}),this.mainForm.valid?0!=this.activity.activityId?this.dailyActivity.update(this.mainForm.value).subscribe({next:i=>{this.activity.activityId=i},error:i=>{this.modalService.showMessage("An error occured while saving the data! "+i.message),console.log(i)}}):this.dailyActivity.save(this.mainForm.value).subscribe({next:i=>{this.activity.activityId=i},error:i=>{this.modalService.showMessage("An error occured while saving the data! "+i.message),console.log(i)}}):this.modalService.showMessage("Please fill all the fields!")}}return s.\u0275fac=function(i){return new(i||s)(t.Y36(f.N),t.Y36(u.qu),t.Y36(h.Z),t.Y36(C.f))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-tabs"]],decls:13,vars:11,consts:[[3,"title","showCalendar","showHistory","editingDate"],[1,"justify-content-center"],[1,"text-center","mt-2"],[1,"container","col-md-8","pb-5"],[1,"row","justify-content-center"],["title","Hours",3,"value","max","valueChange"],["title","Placements",3,"value","valueChange"],["title","Videos",3,"value","valueChange"]],template:function(i,l){1&i&&(t.TgZ(0,"app-header",0),t.NdJ("editingDate",function(d){return l.editPastDate(d)}),t.qZA(),t.TgZ(1,"mat-toolbar")(2,"mat-toolbar-row",1)(3,"span",2)(4,"h3"),t._uU(5),t.ALo(6,"date"),t.qZA()()()(),t.TgZ(7,"div",3)(8,"div",4)(9,"app-input-group",5),t.NdJ("valueChange",function(d){return l.receiveData(d)}),t.qZA(),t.TgZ(10,"app-input-group",6),t.NdJ("valueChange",function(d){return l.receiveData(d)}),t.qZA(),t.TgZ(11,"app-input-group",7),t.NdJ("valueChange",function(d){return l.receiveData(d)}),t.qZA()()(),t._UZ(12,"app-footer")),2&i&&(t.Q6J("title","Home")("showCalendar",!0)("showHistory",!0),t.xp6(5),t.Oqu(t.xi3(6,8,l.getDate(),"EEEE dd, MMMM yyyy")),t.xp6(4),t.Q6J("value",l.activity.hours)("max",125),t.xp6(1),t.Q6J("value",l.activity.placements),t.xp6(1),t.Q6J("value",l.activity.videos))},dependencies:[o.G,a.c,r.g,v.Ye,v.rD,n.uU],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#f1efd5}"]}),s})()},{path:"students",loadChildren:()=>e.e(854).then(e.bind(e,3854)).then(s=>s.StudentsModule)},{path:"goals",loadChildren:()=>Promise.all([e.e(592),e.e(689)]).then(e.bind(e,8689)).then(s=>s.GoalsModule)},{path:"progress",loadChildren:()=>Promise.all([e.e(592),e.e(373)]).then(e.bind(e,4373)).then(s=>s.ProgressModule)},{path:"shared",loadChildren:()=>Promise.resolve().then(e.bind(e,9461)).then(s=>s.SharedComponentsModule)}];let T=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[y.Bz.forChild(M),y.Bz]}),s})();var I=e(9461);let A=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[n.ez,T,I.SharedComponentsModule]}),s})()}}]);