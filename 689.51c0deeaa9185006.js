"use strict";(self.webpackChunkservice_report_pwa=self.webpackChunkservice_report_pwa||[]).push([[689],{8689:(M,c,s)=>{s.r(c),s.d(c,{GoalsModule:()=>S});var p=s(6895),u=s(3060),r=s(4006),e=s(4650),g=s(9609),v=s(678),d=s(4961),m=s(14),h=s(4218),f=s(3489);const Z=function(){return["/app/progress"]};let C=(()=>{class t{constructor(o,a,l,i,V){this.goalService=o,this.modalService=a,this.fb=l,this.router=i,this.userService=V}ngOnInit(){this.getData()}getData(){let o=this.userService.getUser().userId;this.goalService.getGoal(o).subscribe(a=>{this.goal=a})}receiveData(o){switch(o.title){case"Hours":this.goal.hours=o.value;break;case"Placements":this.goal.placements=o.value;break;case"Videos":this.goal.videos=o.value;break;case"Return Visits":this.goal.returnVisits=o.value}this.save()}goBack(){this.router.navigate(["/app/goals"])}save(){if(this.mainForm=this.fb.group({goalId:[this.goal.goalId,[]],hours:[this.goal.hours,[r.kI.required,r.kI.max(150)]],placements:[this.goal.placements,[r.kI.required]],videos:[this.goal.videos,[r.kI.required]],returnVisits:[this.goal.returnVisits,[r.kI.required]],userId:[this.goal.userId,[r.kI.required]]}),!this.mainForm.valid)return this.mainForm.controls.hours.invalid?(this.modalService.showMessage("Hours must be between 0 and 150!"),void(this.goal.hours=0)):void this.modalService.showMessage("Please fill all the fields!");this.goal.goalId?this.goalService.update(this.mainForm.value).subscribe(o=>{}):this.goalService.save(this.mainForm.value).subscribe({next:o=>{}})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(g.p),e.Y36(v.Z),e.Y36(r.qu),e.Y36(u.F0),e.Y36(d.f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form"]],decls:15,vars:8,consts:[[3,"title"],[1,"container","col-md-8","pb-5"],[1,"row","justify-content-center","pt-3","pb-5"],[1,"pb-2","text-center"],["routerLinkActive","router-link-active",3,"routerLink"],["title","Hours",3,"value","max","valueChange"],["title","Placements",3,"value","valueChange"],["title","Videos",3,"value","valueChange"],["title","Return Visits",3,"value","valueChange"]],template:function(o,a){1&o&&(e._UZ(0,"app-header",0),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"hr"),e.TgZ(4,"p",3),e._uU(5,"Here you can adjust your monthly goals, which will be reflected in the "),e.TgZ(6,"a",4),e._uU(7,"Progress"),e.qZA(),e._uU(8," tab."),e.qZA(),e._UZ(9,"hr"),e.TgZ(10,"app-input-group",5),e.NdJ("valueChange",function(i){return a.receiveData(i)}),e.qZA(),e.TgZ(11,"app-input-group",6),e.NdJ("valueChange",function(i){return a.receiveData(i)}),e.qZA(),e.TgZ(12,"app-input-group",7),e.NdJ("valueChange",function(i){return a.receiveData(i)}),e.qZA(),e.TgZ(13,"app-input-group",8),e.NdJ("valueChange",function(i){return a.receiveData(i)}),e.qZA()()(),e._UZ(14,"app-footer")),2&o&&(e.Q6J("title","Edit Goals"),e.xp6(6),e.Q6J("routerLink",e.DdM(7,Z)),e.xp6(4),e.Q6J("value",null==a.goal?null:a.goal.hours)("max",140),e.xp6(1),e.Q6J("value",null==a.goal?null:a.goal.placements),e.xp6(1),e.Q6J("value",null==a.goal?null:a.goal.videos),e.xp6(1),e.Q6J("value",null==a.goal?null:a.goal.returnVisits))},dependencies:[u.yS,u.Od,m.G,h.c,f.g],styles:["a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700;color:#000}"]}),t})();var _=s(5350),T=s(7392);function U(t,n){1&t&&(e.TgZ(0,"th")(1,"mat-icon"),e._uU(2,"directions_bike"),e.qZA()())}function A(t,n){1&t&&(e.TgZ(0,"th")(1,"mat-icon"),e._uU(2,"military_tech"),e.qZA()())}function I(t,n){1&t&&(e.TgZ(0,"th"),e._uU(1,"Remaining"),e.qZA())}function J(t,n){1&t&&(e.TgZ(0,"th"),e._uU(1,"Overcome"),e.qZA())}function b(t,n){if(1&t&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Oqu(o.values.remaining)}}function q(t,n){if(1&t&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Oqu(-1*o.values.remaining)}}let x=(()=>{class t{constructor(){}ngOnInit(){}overcomed(){return this.values.remaining<1}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-card"]],inputs:{title:"title",icon:"icon",values:"values"},decls:29,vars:10,consts:[[1,"card","mt-2"],[2,"width","100%"],[4,"ngIf"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"br"),e.TgZ(2,"table",1)(3,"tr")(4,"th")(5,"mat-icon"),e._uU(6),e.qZA()(),e.TgZ(7,"th")(8,"mat-icon"),e._uU(9,"timeline"),e.qZA()(),e.YNc(10,U,3,0,"th",2),e.YNc(11,A,3,0,"th",2),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"tr")(14,"th"),e._uU(15),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Goal"),e.qZA(),e.YNc(18,I,2,0,"th",2),e.YNc(19,J,2,0,"th",2),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"tr")(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA(),e.YNc(26,b,2,1,"td",2),e.YNc(27,q,2,1,"td",2),e.qZA(),e._UZ(28,"br"),e.qZA()()),2&o&&(e.xp6(6),e.Oqu(a.icon),e.xp6(4),e.Q6J("ngIf",!a.overcomed()),e.xp6(1),e.Q6J("ngIf",a.overcomed()),e.xp6(4),e.Oqu(a.title),e.xp6(3),e.Q6J("ngIf",!a.overcomed()),e.xp6(1),e.Q6J("ngIf",a.overcomed()),e.xp6(4),e.Oqu(a.values.actual),e.xp6(2),e.Oqu(a.values.goal),e.xp6(1),e.Q6J("ngIf",!a.overcomed()),e.xp6(1),e.Q6J("ngIf",a.overcomed()))},dependencies:[p.O5,T.Hw],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:0 solid black;border-collapse:collapse;text-align:center;font-size:large}th[_ngcontent-%COMP%]{width:33%}"]}),t})();function G(t,n){if(1&t&&(e.TgZ(0,"div",5),e._UZ(1,"app-card",6)(2,"app-card",6)(3,"app-card",6)(4,"app-card",6),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("icon","schedule")("title","Hours")("values",o.hours),e.xp6(1),e.Q6J("icon","books")("title","Placements")("values",o.placements),e.xp6(1),e.Q6J("icon","perm_media")("title","Videos")("values",o.videos),e.xp6(1),e.Q6J("icon","directions_walk")("title","Revisitas")("values",o.returnVisits)}}function F(t,n){1&t&&(e.TgZ(0,"div",7),e._UZ(1,"app-no-data-found"),e.qZA())}const y=[{path:"",component:(()=>{class t{constructor(o,a,l){this.goalService=o,this.router=a,this.userService=l,this.goal=void 0}ngOnInit(){this.getData()}getData(){let o=this.userService.getUser().userId;this.goalService.getGoal(o).subscribe({next:a=>{this.goal=a,this.assignValues()}})}assignValues(){this.videos={actual:this.goal.progress.videos,goal:this.goal.videos,remaining:this.goal.videos-this.goal.progress.videos},this.placements={actual:this.goal.progress.placements,goal:this.goal.placements,remaining:this.goal.placements-this.goal.progress.placements},this.hours={actual:this.goal.progress.hours,goal:this.goal.hours,remaining:this.goal.hours-this.goal.progress.hours},this.returnVisits={actual:this.goal.progress.returnVisits,goal:this.goal.returnVisits,remaining:this.goal.returnVisits-this.goal.progress.returnVisits}}edit(){this.router.navigate(["/app/goals"])}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(g.p),e.Y36(u.F0),e.Y36(d.f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-goals"]],decls:6,vars:4,consts:[[3,"title","showEditGoal"],[1,"container","col-md-8","pb-5"],[1,"row","justify-content-center"],["class","pb-5",4,"ngIf"],["class","col-8 mt-3",4,"ngIf"],[1,"pb-5"],[3,"icon","title","values"],[1,"col-8","mt-3"]],template:function(o,a){1&o&&(e._UZ(0,"app-header",0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,G,5,12,"div",3),e.YNc(4,F,2,0,"div",4),e.qZA()(),e._UZ(5,"app-footer")),2&o&&(e.Q6J("title","Goals")("showEditGoal",!0),e.xp6(3),e.Q6J("ngIf",a.goal),e.xp6(1),e.Q6J("ngIf",!a.goal))},dependencies:[p.O5,m.G,h.c,_.i,x]}),t})()},{path:"form",component:C}];let Q=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(y),u.Bz]}),t})();var O=s(6838);let S=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,Q,O.SharedComponentsModule]}),t})()}}]);